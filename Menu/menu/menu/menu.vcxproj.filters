#include "GerirProduto.h"
#include <fstream>
#include <sstream>

bool GerirProduto::verificaNoCsv(int id, string nome){
    ifstream arquivo("produtos.csv");
    string linha;
    while (getline(arquivo, linha)) { 
        stringstream ss(linha);
        string idCSV, nomeCSV, stock, precoCusto, iva;
        getline(ss, idCSV, ',');
        getline(ss, nomeCSV, ',');
        getline(ss, stock, ',');
        getline(ss, precoCusto, ',');
        getline(ss, iva, ',');
        if (nomeCSV == nome|| idCSV == to_string(id)) {
            return true;
        }
    }
    return false;
}

void GerirProduto::guardarInformacoes() {
    ofstream arquivo("produtos.csv", ios::out);

    if (!arquivo.is_open()) {
        cout << "Erro ao abrir o arquivo produtos.csv." << endl;
        return;
    }

    for (int i = 0; i < numItem; i++) {
        arquivo << item[i].getId() << "," << item[i].getNome() << "," << item[i].getStock() << "," << item[i].getPrecoCusto() << "," << item[